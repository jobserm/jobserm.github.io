(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b3e20e1e"],{1800:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("c-flex",[a("Sidebar"),a("c-flex",{attrs:{justify:"center",flexGrow:"1",bgColor:"gray.50"}},[a("c-stack",{attrs:{w:"95%"}},[a("Header",{attrs:{header:"Account Management",icon:"user"}}),a("UserTable",{on:{parentGetUserByID:e.getUserByID}}),a("AccountInfo",{attrs:{user:this.user}})],1)],1)],1)],1)},o=[],c=a("3a08"),r=a("f034"),l=a("69ed"),n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.loading?a("Loading"):e._e(),a("c-stack",{attrs:{w:"100%",my:"5rem"}},[a("c-text",{attrs:{fontSize:"4xl",textAlign:"center"}},[e._v("ข้อมูลผู้ใช้")]),a("c-flex",{attrs:{ml:"2rem"}},[void 0===e.user.name||void 0===e.user.lastname?a("c-avatar",{attrs:{size:"2xl"}}):e._e(),void 0!==e.user.name||void 0!==e.user.lastname?a("c-avatar",{attrs:{name:e.user.name+" "+e.user.lastname,size:"2xl"}}):e._e(),a("c-stack",{attrs:{ml:"3rem"}},[void 0===e.user.name||void 0===e.user.lastname?a("c-text",[e._v("ชื่อ - นามสกุล: "+e._s("-"))]):e._e(),void 0!==e.user.name||void 0!==e.user.lastname?a("c-text",[e._v("ชื่อ - นามสกุล: "+e._s(e.user.name+" "+e.user.lastname))]):e._e(),a("c-text",[e._v("วัน/เดือน/ปีเกิด: "+e._s(e.user.birthdate||"-")+" ")]),a("c-text",[e._v("เพศ: "+e._s(e.user.gender||"-"))]),a("c-text",[e._v("เบอร์โทรศัพท์: "+e._s(e.user.phone||"-"))]),a("c-text",[e._v("ที่อยู่: "+e._s(e.user.address||"-"))]),a("c-text",[e._v("Facebook: "+e._s(e.user.facebook||"-"))]),a("c-text",[e._v("LineID: "+e._s(e.user.line||"-"))]),a("c-text",[e._v("Email: "+e._s(e.user.email||"-"))]),a("c-text",[e._v(" Activation Status: "),void 0==e.user.activation?a("c-button",{attrs:{mx:"2"}},[e._v(e._s("-"))]):e._e(),0==e.user.activation?a("c-button",{attrs:{mx:"2","variant-color":"green",height:"30px",width:"100px"},on:{click:e.activationStatus}},[e._v(e._s("ACTIVATED"))]):e._e(),1==e.user.activation?a("c-button",{attrs:{mx:"2","variant-color":"red",height:"30px",width:"100px"},on:{click:e.activationStatus}},[e._v(e._s("DEACTIVATED"))]):e._e()],1)],1)],1)],1)],1)},i=[],g=(a("73ec"),a("6d84")),d=a("c1ae"),u=a("ac20"),h={components:{Loading:g["a"]},props:["user"],data(){return{loading:!1,toggleStatus:""}},methods:{async activationStatus(){this.toggleStatus=this.user.activation,console.log(this.toggleStatus);try{this.loading=!0;let e=await u["c"].get(`/api/users/${this.user.id}/toggle-activation`);200===e.status&&(await d["a"].dispatch("fetchUsers"),this.toggleStatus=1===this.toggleStatus?0:1,console.log(this.user.activation),this.loading=!1)}catch(e){console.log(e.message)}}}},m=h,b=a("2877"),f=Object(b["a"])(m,n,i,!1,null,null,null),p=f.exports;const y=a("eb99");y(f,{CText:a("89e8").CText,CAvatar:a("89e8").CAvatar,CButton:a("89e8").CButton,CStack:a("89e8").CStack,CFlex:a("89e8").CFlex});var v={components:{Sidebar:c["a"],UserTable:r["a"],Header:l["a"],AccountInfo:p},data(){return{user:{}}},methods:{getUserByID(e){this.user=e,console.log(this.user)}}},x=v,w=Object(b["a"])(x,s,o,!1,null,null,null);t["default"]=w.exports;const J=a("eb99");J(w,{CStack:a("89e8").CStack,CFlex:a("89e8").CFlex})},"3a08":function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("c-flex",{attrs:{left:"5",h:"100%",mt:"2.5vh",boxShadow:"0 4px 12px 0 rgba(0, 0, 0, 0.05)",w:"32vh",flexDirection:"column",justify:"space-between"}},[a("c-flex",{attrs:{p:"5%",flexDirection:"column",alignItems:"flex-start"}},[a("c-box",{attrs:{w:"100%"}},[a("router-link",{attrs:{to:"/admin"}},[a("NavItem",{attrs:{menu:"Dashboard",icon:"home"}})],1)],1),a("c-box",{attrs:{w:"100%"}},[a("router-link",{attrs:{to:"/admin/jobs"}},[a("NavItem",{attrs:{menu:"Jobs & Categories",icon:"briefcase"}})],1)],1),a("c-box",{attrs:{w:"100%"}},[a("router-link",{attrs:{to:"/admin/review"}},[a("NavItem",{attrs:{menu:"Review",icon:"star"}})],1)],1),a("c-box",{attrs:{w:"100%"}},[a("router-link",{attrs:{to:"/admin/accountsetting"}},[a("NavItem",{attrs:{menu:"Account Management",icon:"user"}})],1)],1)],1),a("c-flex",{attrs:{p:"5%",flexDirection:"column",w:"100%",alignItems:"flex-start",mb:"4"}})],1)],1)},o=[],c=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("c-flex",{attrs:{mt:"30",flexDirection:"column",w:"100%",alignItems:"stretch"}},[a("c-button",{attrs:{"left-icon":e.icon,"variant-color":"indigo"}},[e._v(e._s(e.menu))])],1)],1)},r=[],l={props:["menu","icon"]},n=l,i=a("2877"),g=Object(i["a"])(n,c,r,!1,null,null,null),d=g.exports;const u=a("eb99");u(g,{CButton:a("89e8").CButton,CFlex:a("89e8").CFlex});var h={components:{NavItem:d}},m=h,b=Object(i["a"])(m,s,o,!1,null,null,null);t["a"]=b.exports;const f=a("eb99");f(b,{CBox:a("89e8").CBox,CFlex:a("89e8").CFlex})},"69ed":function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("c-flex",{attrs:{alignItems:"center",pt:"2rem",pl:"2rem"}},[a("c-box",{attrs:{bgColor:"indigo.300",p:"0.3rem",borderRadius:"0.25rem",mr:"1rem","box-shadow":"lg"}},[a("c-icon",{attrs:{name:e.icon,fontSize:"2xl",color:"white"}})],1),a("c-text",{attrs:{fontSize:"2xl"}},[e._v(e._s(e.header))])],1)},o=[],c={props:["header","icon"]},r=c,l=a("2877"),n=Object(l["a"])(r,s,o,!1,null,null,null);t["a"]=n.exports;const i=a("eb99");i(n,{CIcon:a("89e8").CIcon,CBox:a("89e8").CBox,CText:a("89e8").CText,CFlex:a("89e8").CFlex})},b529:function(e,t,a){"use strict";var s=a("2b0e"),o=a("2f62"),c=a("3ff5"),r=a("ac20");s["default"].use(o["a"]),t["a"]=new o["a"].Store({state:{posts:[],data:[],JobById:[],allJobs:[],JobSuggest:[],fetchRemark:[],fetchUserFinish:[],jobByUser:[],jobFromSearch:[],JobAvaNotLogIn:[],AllJobsAvaNotLogIn:[],JobsThatUserApply:[],recentlyPostedJob:[]},getters:{posts:e=>e.posts,jobs:e=>e.data,job_filtered:e=>e.JobById,getAllJobs:e=>e.allJobs,getJobSuggest:e=>e.JobSuggest,getUserFinish:e=>e.fetchUserFinish,getJobByUser:e=>e.jobByUser,getJobById:e=>e.JobById,getJobFromSearch:e=>e.jobFromSearch,getAvaJobNotLogIn:e=>e.JobAvaNotLogIn,getAllJobsAvaNotLogIn:e=>e.AllJobsAvaNotLogIn,getJobsThatUserApply:e=>e.JobsThatUserApply,getRecentlyPostedJob:e=>e.recentlyPostedJob},mutations:{async fetch(e,{res:t}){e.data=(await t).data},async fetchById(e,{res:t}){e.JobById=(await t).data},async fetchJobUserApply(e,{res:t}){e.JobsThatUserApply=(await t).data},async fetchSuggest(e,{res:t}){e.JobSuggest=(await t).data},async fetchAllAvaJobNotLogIn(e,{res:t}){e.AllJobsAvaNotLogIn=(await t).data},async fetchByUser(e,{res:t}){e.jobByUser=await t},async fetchAvaJobNotLogIn(e,{res:t}){e.JobAvaNotLogIn=await t.data},async fetchFromSearch(e,{res:t}){e.jobFromSearch=(await t).data},addPost(e,t){e.posts.unshift(t)},setAllJobs(e,t){e.allJobs=t},addRemark(e,t){e.fetchRemark=t},fetchUserFinishJob(e,t){e.fetchUserFinish=t},setJobById(e,t){e.JobById=t},removeJob(e,t){e.allJobs=e.allJobs.map(e=>e.id!=t.id)},setRecentlyPostedJob(e,t){e.recentlyPostedJob=t}},actions:{async fetchJobSuggest({commit:e},t){console.log("fetchJobSuggest"),console.log("---id---",t);let a={id:t},s=await r["c"].post(`/api/jobs/${t}/get-rand-jobs`,a);console.log("JobSuggest",(await s).data),console.log("fetchJobSuggest"),e("fetchSuggest",{res:s})},async fetchData({commit:e}){let t=c["a"].getApiHeader(),a=await r["c"].get("/api/jobs",t);e("fetch",a)},async postJob({commit:e},t){try{let a=await r["c"].post("/api/jobs",t);if(201===a.status)return e("setRecentlyPostedJob",a.data),{success:!0}}catch(a){return{success:!1,message:"ตรวจสอบฟอร์มกรอกข้อมูลอีกครั้ง"}}},async fetchJob({commit:e}){try{let t=r["c"].get("/api/jobs");if(console.log("res = ",(await t).data),200===(await t).status)return console.log((await t).data),console.log("ดำะแ้ ่นิ"),e("fetch",{res:t}),{success:!0}}catch(t){return{success:!1}}},async report({commit:e},t){console.log(t);let a={id:t.id};console.log(a.id);await r["c"].get(`/api/jobs/${t.id}/report-inappropriate`)},async paginate({commit:e},t){console.log(t);let a={id:t.id};console.log(a.id);let s=await r["c"].post(t.url,a);console.log("route"),console.log("data from url"),console.log(await s),e("fetch",{res:s})},async paginate_post({commit:e},t){let a=r["c"].post(t);console.log("route"),console.log(t),console.log("data from url"),console.log((await a).data),e("fetch",{res:a})},async getJobByID({commit:e},t){let a=await r["c"].get("/api/jobs/"+t),s=a.data;return s},async fetchJobById({commit:e},t){console.log("---id---"),console.log(t);try{let a=await r["c"].get("/api/jobs/"+t);e("fetchById",{res:a}),console.log((await a).data)}catch(a){console.log(a.message)}console.log("fetchById")},async fetchJobFromSearch({commit:e},t){let a={title:t.title,province:t.province,category:t.category,compen:t.compensatsion_array,check:t.check,user_id:t.user_id};console.log("body",t);try{let t=await r["c"].post("/api/get-job-from-search",a);e("fetchFromSearch",{res:t}),console.log("s",t)}catch(s){console.log(s.message)}console.log("fetchJobFromSearch")},async fetchJobUserId({commit:e},t){console.log("---id---");let a={id:t.user_id,working_status:t.working_status};console.log(a);let s=await r["c"].post("/api/get-job-by-user-id",a);console.log((await s).data),console.log("fetchByUser"),e("fetchByUser",{res:s}),console.log("fetchByUser")},async fetchJobUserApply({commit:e},t){console.log("---id---");let a={id:t.user_id,working_status:t.working_status};console.log(a);let s=await r["c"].post("/api/get-job-apply",a);console.log((await s).data),console.log("fetchJobUserApply"),e("fetchJobUserApply",{res:s}),console.log("fetchJobUserApply")},async fetchJobAvaliableNotLogedIn({commit:e},t){console.log("fetchJobAvaliableNotLogedIn"),console.log("id",t);let a={id:t},s=await r["c"].post("api/jobs/get-avaliable-jobs-not-log-in",a);console.log(s),e("fetchAvaJobNotLogIn",{res:s})},async addRemarks({commit:e},t){try{console.log("payload.id---",t.id),console.log("payload.remark---",t.remark);let a={id:t.user_id,remark:t.remark};console.log("body.id---",a.id),console.log("body.remark---",a.remark);let s=await r["c"].post(`/api/jobs/${t.job_id}/apply-job`,a);return console.log("res",s),e("addRemark",{res:s}),{success:!0}}catch(a){return{success:!1,message:a.response.data}}},async fetchAllJobs({commit:e}){try{let t=await r["c"].get("/api/get-all-jobs");console.log("line 82",t.data),e("setAllJobs",t.data)}catch(t){console.log(t)}},async fetchUserFinish({commit:e},t){let a=await r["c"].get(`/api/jobs/${t}/finish-job`);console.log("finish job =>",a),e("fetchUserFinishJob",a)},async fetchJobByID({commit:e},t){try{let a=await r["c"].get("/api/jobs/"+t);e("setJobById",a.data)}catch(a){console.log(a.message)}},async removeJob({commit:e},{headers:t,id:a}){try{let t=await r["c"].delete("/api/jobs/"+a);e("removeJob",t.data)}catch(s){console.log(s.message)}},async employerSelectFreelancer({commit:e},t){try{let e={id:t.user_id};return await r["c"].put(`/api/jobs/${t.job_id}/select-freelancer`,e),{success:!0}}catch(a){return{success:!1,message:a.response.data}}}}})},c1ae:function(e,t,a){"use strict";var s=a("2b0e"),o=a("2f62"),c=a("ac20");s["default"].use(o["a"]),t["a"]=new o["a"].Store({state:{users:[],user:{},usersArePublish:[]},getters:{getUsers:e=>e.users,fetchUser:e=>e.user,fetchUsersArePublish:e=>e.usersArePublish},mutations:{setUsers(e,t){e.users=t},fetchUser(e,t){e.user=t},fetchUsersArePublish(e,t){e.usersArePublish=t}},actions:{async fetchUsers({commit:e},t){try{let t=await c["c"].get("/api/users");e("setUsers",t.data)}catch(a){console.log(a)}},async fetchUserByID({commit:e},t){try{let a=await c["c"].get("/api/users/"+t);e("fetchUser",a.data)}catch(a){console.log(a)}},async fetchUsersArePublish({commit:e}){try{let t=await c["c"].get("/api/get-user-is-publish");e("fetchUsersArePublish",t.data)}catch(t){console.log(t)}}}})},f034:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.loading?a("loading"):e._e(),a("c-stack",{attrs:{mt:"2rem"}},[a("ve-table",{attrs:{columns:e.columns,"table-data":e.tableData}}),a("c-box",{attrs:{w:"100%"}},[a("c-text",{directives:[{name:"show",rawName:"v-show",value:e.dataEmpty,expression:"dataEmpty"}],attrs:{fontSize:"xl",textAlign:"center",mt:"2rem"}},[e._v("Data empty")])],1),a("c-box",{attrs:{mt:"2rem",textAlign:"right"}},[a("ve-pagination",{attrs:{total:e.totalCount,"page-index":e.pageIndex,"page-size":e.pageSize},on:{"on-page-number-change":e.pageNumberChange,"on-page-size-change":e.pageSizeChange}})],1)],1)],1)},o=[],c=a("c1ae"),r=a("3ff5"),l=(a("bc3a"),a("fecb")),n=(a("73ec"),a("b529"),{data(){this.$createElement;return{pageIndex:1,pageSize:10,columns:[{field:"id",key:"a",type:"expand",title:"ID",align:"center"},{field:"name",key:"b",title:"Name",align:"left",renderBodyCell:({row:e,column:t,rowIndex:a},s)=>{const o=e[t.field];return s("span",[s("a",{class:"test-text",on:{click:()=>this.getUserByID(e["id"])},style:"color:#1890ff;cursor:pointer;"},[o])])}},{field:"lastname",key:"c",title:"lastname",width:300,align:"left"},{field:"address",key:"d",title:"Address",width:"",align:"left"},{field:"phone",key:"e",title:"phone",width:"",align:"left"},{field:"facebook",key:"f",title:"facebook",width:"",align:"left"},{field:"activation",key:"g",title:"activation",width:"",align:"left",renderBodyCell:({row:e,column:t,rowIndex:a},s)=>{const o=e[t.field];return 1===o?s(l["a"],{attrs:{"variant-color":"green",mx:"2"}},["activated"]):s(l["a"],{attrs:{"variant-color":"red",mx:"2"}},["deactivated"])}}],rawData:[],loading:!0,dataEmpty:!0,id:""}},computed:{tableData(){const{pageIndex:e,pageSize:t}=this;return this.rawData.slice((e-1)*t,e*t)},totalCount(){return this.rawData.length}},async created(){await this.fetchUsers(),c["a"].watch(e=>c["a"].getters.getUsers,(e,t)=>{this.rawData=e})},methods:{async fetchUsers(){await c["a"].dispatch("fetchUsers");let e=c["a"].getters.getUsers;0!=e.length&&(this.rawData=e.filter(e=>"USER"===e.role),this.loading=!1,this.dataEmpty=!1),this.loading=!1},pageNumberChange(e){this.pageIndex=e},pageSizeChange(e){this.pageIndex=1,this.pageSize=e},async getUserByID(e){this.id=e;let t=await r["a"].getUserById(e);t.id=this.id,this.$emit("parentGetUserByID",t)}}}),i=n,g=a("2877"),d=Object(g["a"])(i,s,o,!1,null,null,null);t["a"]=d.exports;const u=a("eb99");u(d,{CText:a("89e8").CText,CBox:a("89e8").CBox,CStack:a("89e8").CStack})}}]);
//# sourceMappingURL=chunk-b3e20e1e.6009a32a.js.map