(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-39c94428"],{"0b4f":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("CandidateProfile")],1)},o=[],r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("c-box",[a("c-box",{attrs:{px:"20",py:"10"}},[e.isLoading?a("loading"):e._e(),e.isLoading?e._e():a("div",[a("c-stack",[a("c-heading",{attrs:{align:"center",fontSize:"5xl",py:"5"}},[e._v("ประวัติส่วนตัว")])],1),a("c-flex",{attrs:{py:"16",justify:"center"}},[a("info-profile",{attrs:{freelancerName:this.user.name,freelancerLastname:this.user.lastname,rating:e.user.review,age:e.user.birthdate,image:this.user.img_url,star:s("21ea")}}),a("c-box",{attrs:{bg:"#FDFDFD","border-width":"3px",rounded:"0.5rem"}},[a("c-heading",{attrs:{as:"h2",size:"xl",color:"black",opacity:"0.9",px:"24",lineHeight:"3"}},[e._v(" ประวัติส่วนตัว ")]),a("c-text",{attrs:{as:"h1",fontSize:"2xl",color:"black",opacity:"0.9",px:"24",lineHeight:"2.5"}},[e._v(" ชื่อ : "+e._s(this.user.name)+" ")]),a("c-text",{attrs:{as:"h1",fontSize:"2xl",color:"black",opacity:"0.9",px:"24",lineHeight:"2.5"}},[e._v(" นามสกุล : "+e._s(this.user.lastname)+" ")]),a("c-text",{attrs:{as:"h1",fontSize:"2xl",color:"black",opacity:"0.9",px:"24",lineHeight:"2.5"}},[e._v(" เบอร์โทรศัพท์ : "+e._s(this.user.phone)+" ")]),a("c-text",{attrs:{as:"h1",fontSize:"2xl",color:"black",opacity:"0.9",px:"24",lineHeight:"2.5"}},[e._v(" อีเมล : "+e._s(this.user.email)+" ")]),a("c-text",{attrs:{as:"h1",fontSize:"2xl",color:"black",opacity:"0.9",px:"24",lineHeight:"2.5"}},[e._v(" ที่อยู่ : "+e._s(this.user.address)+" ")]),a("c-heading",{attrs:{as:"h2",size:"xl",color:"black",opacity:"0.9",px:"24",lineHeight:"3",mt:"1rem"}},[e._v(" ช่องทางการติดต่อ ")]),a("c-text",{attrs:{as:"h1",fontSize:"2xl",color:"black",opacity:"0.9",px:"24",lineHeight:"2.5"}},[e._v(" facebook : "+e._s(this.user.facebook)+" ")]),a("c-text",{attrs:{as:"h1",fontSize:"2xl",color:"black",opacity:"0.9",px:"24",lineHeight:"2.5"}},[e._v(" line : "+e._s(this.user.line)+" ")]),a("c-heading",{attrs:{as:"h2",size:"xl",color:"black",opacity:"0.9",px:"24",lineHeight:"3",mt:"1rem"}},[e._v(" ข้อมูลเพิ่มเติม ")]),a("c-text",{attrs:{as:"h1",fontSize:"2xl",color:"black",opacity:"0.9",px:"24",lineHeight:"2.5"}},[e._v(" เกี่ยวกับตนเอง : "+e._s(this.user.about_me)+" ")]),a("c-text",{attrs:{as:"h1",fontSize:"2xl",color:"black",opacity:"0.9",px:"24",lineHeight:"2.5"}},[e._v(" ความสามารถ : "+e._s(this.user.skill)+" ")]),a("c-heading",{attrs:{as:"h2",size:"xl",color:"black",opacity:"0.9",px:"24",lineHeight:"3",mt:"1rem"}},[e._v(" สิ่งที่อยากบอก ")]),a("c-text",{attrs:{as:"h1",fontSize:"2xl",color:"black",opacity:"0.9",px:"24",lineHeight:"2.5"}},[e._v(" ข้อความเพิ่มเติมจากผู้สมัคร : "+e._s(e.remark)+" ")]),a("c-button",{attrs:{mx:"24",_hover:{bg:"#E2E8F0"},bgColor:"brand.500",p:"6",my:"8",ml:"85%",color:"white",fontSize:"2xl"},on:{click:e.selectFreelance}},[e._v("จ้างงาน")])],1)],1)],1),0!==this.user.review?a("c-heading",{attrs:{size:"2xl",py:"5",mt:"5%",ml:"4%"}},[e._v("รีวิวจากผู้ว่าจ้าง")]):e._e(),a("c-simple-grid",{attrs:{columns:[1,1,1,2],spacing:"10",ml:"3%"}},e._l(this.reviews,(function(t){return a("div",{key:t.id},[a("c-stack",{attrs:{wrap:"wrap",rounded:"0.5rem",p:"12",bgColor:"#FDFDFD",shadow:"xl","border-width":"1px",w:"70rem",h:"12rem",mt:"2rem"}},[a("c-heading",{attrs:{fontSize:"2xl",pb:"2"}},[e._v(e._s(t.comment)+" "),a("br"),a("br"),e._v(" คะแนนรีวิว "+e._s(t.rating.toFixed(1))+" ")])],1)],1)})),0)],1)],1)},i=[],c=s("b529"),l=s("c1ae"),n=s("758a"),g=s("f652"),h={components:{InfoProfile:n["a"]},data(){return{user:{},reviews:[],isLoading:!0,job_id:this.$route.params.job_id,user_id:this.$route.params.user_id,remark:""}},async created(){this.fetchData(this.user_id)},methods:{async editFormat(){if(this.user.birthdate){let e=Date.now()-new Date(this.user.birthdate).getTime(),t=new Date(e);this.user.birthdate=Math.abs(t.getUTCFullYear()-1970)}null===this.user.review?this.user.review=0:this.user.review=this.user.review.toFixed(1)},async fetchData(e){await l["a"].dispatch("fetchUserByID",e);let t=l["a"].getters.fetchUser;this.user=t,console.log(this.user),console.log("length",this.job_id);for(let a=0;a<this.user.info.length;a++)console.log("this.user.info[i]",this.user.info[a]),this.user.info[a].id==this.job_id&&(this.remark=this.user.info[a].pivot.remark);await g["a"].dispatch("getReviewByUserID",this.user.id);let s=g["a"].getters.getReviewsByUserID;this.reviews=s,this.isLoading=!1,this.editFormat()},async selectFreelance(){let e={job_id:this.job_id,user_id:this.user_id},t=await c["a"].dispatch("employerSelectFreelancer",e);t.success?(this.$router.push("/userJob"),this.$swal("จ้างงานเสร็จสิ้น",{icon:"success"})):console.log("-----??")}}},d=h,m=s("2877"),b=Object(m["a"])(d,r,i,!1,null,null,null),u=b.exports;const p=s("eb99");p(b,{CHeading:s("89e8").CHeading,CStack:s("89e8").CStack,CText:s("89e8").CText,CButton:s("89e8").CButton,CBox:s("89e8").CBox,CFlex:s("89e8").CFlex,CSimpleGrid:s("89e8").CSimpleGrid});var f={name:"candidateProfile",components:{CandidateProfile:u}},y=f,w=Object(m["a"])(y,a,o,!1,null,null,null);t["default"]=w.exports},"21ea":function(e,t,s){e.exports=s.p+"img/star.45dd5470.png"},"758a":function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("c-stack",{attrs:{w:"60rem",ml:"3rem",rounded:"0.5rem",p:"20",bgColor:"brand.400",shadow:"xl","border-width":"1px"}},[s("c-flex",{attrs:{justify:"center"}},[s("c-box",[s("c-image",{attrs:{textAlign:"center",src:e.image,w:"30rem",h:"30rem",borderRadius:"50%",marginTop:"auto",py:"2"}})],1)],1),s("c-heading",{attrs:{mt:"3rem",align:"center",size:"2xl",pb:"2"}},[e._v(e._s(e.freelancerName)+" "+e._s(e.freelancerLastname))]),s("c-flex",{attrs:{justify:"center"}},[s("c-image",{attrs:{src:e.star,w:"40px",h:"40px"}}),s("c-text",{attrs:{as:"h2",fontSize:"4xl",color:"primary.800",opacity:"0.9",fontWeight:"normal",lineHeight:"1.5",pl:"2"}},[e._v(" "+e._s(e.rating)+" / 5 ")])],1),s("c-flex",{attrs:{justify:"center"}},[s("c-text",{attrs:{as:"h2",fontSize:"4xl",color:"primary.800",opacity:"0.8",fontWeight:"normal",lineHeight:"1.7","white-space":"pre-line"}},[e._v("อายุ : "+e._s(e.age)+" ")])],1)],1)},o=[],r={name:"Info",props:["freelancerName","freelancerLastname","star","rating","age","image"]},i=r,c=s("2877"),l=Object(c["a"])(i,a,o,!1,null,null,null);t["a"]=l.exports;const n=s("eb99");n(l,{CImage:s("89e8").CImage,CBox:s("89e8").CBox,CFlex:s("89e8").CFlex,CHeading:s("89e8").CHeading,CText:s("89e8").CText,CStack:s("89e8").CStack})},b529:function(e,t,s){"use strict";var a=s("2b0e"),o=s("2f62"),r=s("3ff5"),i=s("ac20");a["default"].use(o["a"]),t["a"]=new o["a"].Store({state:{posts:[],data:[],JobById:[],allJobs:[],JobSuggest:[],fetchRemark:[],fetchUserFinish:[],jobByUser:[],jobFromSearch:[],JobAvaNotLogIn:[],AllJobsAvaNotLogIn:[],JobsThatUserApply:[],recentlyPostedJob:[]},getters:{posts:e=>e.posts,jobs:e=>e.data,job_filtered:e=>e.JobById,getAllJobs:e=>e.allJobs,getJobSuggest:e=>e.JobSuggest,getUserFinish:e=>e.fetchUserFinish,getJobByUser:e=>e.jobByUser,getJobById:e=>e.JobById,getJobFromSearch:e=>e.jobFromSearch,getAvaJobNotLogIn:e=>e.JobAvaNotLogIn,getAllJobsAvaNotLogIn:e=>e.AllJobsAvaNotLogIn,getJobsThatUserApply:e=>e.JobsThatUserApply,getRecentlyPostedJob:e=>e.recentlyPostedJob},mutations:{async fetch(e,{res:t}){e.data=(await t).data},async fetchById(e,{res:t}){e.JobById=(await t).data},async fetchJobUserApply(e,{res:t}){e.JobsThatUserApply=(await t).data},async fetchSuggest(e,{res:t}){e.JobSuggest=(await t).data},async fetchAllAvaJobNotLogIn(e,{res:t}){e.AllJobsAvaNotLogIn=(await t).data},async fetchByUser(e,{res:t}){e.jobByUser=await t},async fetchAvaJobNotLogIn(e,{res:t}){e.JobAvaNotLogIn=await t.data},async fetchFromSearch(e,{res:t}){e.jobFromSearch=(await t).data},addPost(e,t){e.posts.unshift(t)},setAllJobs(e,t){e.allJobs=t},addRemark(e,t){e.fetchRemark=t},fetchUserFinishJob(e,t){e.fetchUserFinish=t},setJobById(e,t){e.JobById=t},removeJob(e,t){e.allJobs=e.allJobs.map(e=>e.id!=t.id)},setRecentlyPostedJob(e,t){e.recentlyPostedJob=t}},actions:{async fetchJobSuggest({commit:e},t){console.log("fetchJobSuggest"),console.log("---id---",t);let s={id:t},a=await i["c"].post(`/api/jobs/${t}/get-rand-jobs`,s);console.log("JobSuggest",(await a).data),console.log("fetchJobSuggest"),e("fetchSuggest",{res:a})},async fetchData({commit:e}){let t=r["a"].getApiHeader(),s=await i["c"].get("/api/jobs",t);e("fetch",s)},async postJob({commit:e},t){try{let s=await i["c"].post("/api/jobs",t);if(201===s.status)return e("setRecentlyPostedJob",s.data),{success:!0}}catch(s){return{success:!1,message:"ตรวจสอบฟอร์มกรอกข้อมูลอีกครั้ง"}}},async fetchJob({commit:e}){try{let t=i["c"].get("/api/jobs");if(console.log("res = ",(await t).data),200===(await t).status)return console.log((await t).data),console.log("ดำะแ้ ่นิ"),e("fetch",{res:t}),{success:!0}}catch(t){return{success:!1}}},async report({commit:e},t){console.log(t);let s={id:t.id};console.log(s.id);await i["c"].get(`/api/jobs/${t.id}/report-inappropriate`)},async paginate({commit:e},t){console.log(t);let s={id:t.id};console.log(s.id);let a=await i["c"].post(t.url,s);console.log("route"),console.log("data from url"),console.log(await a),e("fetch",{res:a})},async paginate_post({commit:e},t){let s=i["c"].post(t);console.log("route"),console.log(t),console.log("data from url"),console.log((await s).data),e("fetch",{res:s})},async getJobByID({commit:e},t){let s=await i["c"].get("/api/jobs/"+t),a=s.data;return a},async fetchJobById({commit:e},t){console.log("---id---"),console.log(t);try{let s=await i["c"].get("/api/jobs/"+t);e("fetchById",{res:s}),console.log((await s).data)}catch(s){console.log(s.message)}console.log("fetchById")},async fetchJobFromSearch({commit:e},t){let s={title:t.title,province:t.province,category:t.category,compen:t.compensatsion_array,check:t.check,user_id:t.user_id};console.log("body",t);try{let t=await i["c"].post("/api/get-job-from-search",s);e("fetchFromSearch",{res:t}),console.log("s",t)}catch(a){console.log(a.message)}console.log("fetchJobFromSearch")},async fetchJobUserId({commit:e},t){console.log("---id---");let s={id:t.user_id,working_status:t.working_status};console.log(s);let a=await i["c"].post("/api/get-job-by-user-id",s);console.log((await a).data),console.log("fetchByUser"),e("fetchByUser",{res:a}),console.log("fetchByUser")},async fetchJobUserApply({commit:e},t){console.log("---id---");let s={id:t.user_id,working_status:t.working_status};console.log(s);let a=await i["c"].post("/api/get-job-apply",s);console.log((await a).data),console.log("fetchJobUserApply"),e("fetchJobUserApply",{res:a}),console.log("fetchJobUserApply")},async fetchJobAvaliableNotLogedIn({commit:e},t){console.log("fetchJobAvaliableNotLogedIn"),console.log("id",t);let s={id:t},a=await i["c"].post("api/jobs/get-avaliable-jobs-not-log-in",s);console.log(a),e("fetchAvaJobNotLogIn",{res:a})},async addRemarks({commit:e},t){try{console.log("payload.id---",t.id),console.log("payload.remark---",t.remark);let s={id:t.user_id,remark:t.remark};console.log("body.id---",s.id),console.log("body.remark---",s.remark);let a=await i["c"].post(`/api/jobs/${t.job_id}/apply-job`,s);return console.log("res",a),e("addRemark",{res:a}),{success:!0}}catch(s){return{success:!1,message:s.response.data}}},async fetchAllJobs({commit:e}){try{let t=await i["c"].get("/api/get-all-jobs");console.log("line 82",t.data),e("setAllJobs",t.data)}catch(t){console.log(t)}},async fetchUserFinish({commit:e},t){let s=await i["c"].get(`/api/jobs/${t}/finish-job`);console.log("finish job =>",s),e("fetchUserFinishJob",s)},async fetchJobByID({commit:e},t){try{let s=await i["c"].get("/api/jobs/"+t);e("setJobById",s.data)}catch(s){console.log(s.message)}},async removeJob({commit:e},{headers:t,id:s}){try{let t=await i["c"].delete("/api/jobs/"+s);e("removeJob",t.data)}catch(a){console.log(a.message)}},async employerSelectFreelancer({commit:e},t){try{let e={id:t.user_id};return await i["c"].put(`/api/jobs/${t.job_id}/select-freelancer`,e),{success:!0}}catch(s){return{success:!1,message:s.response.data}}}}})},c1ae:function(e,t,s){"use strict";var a=s("2b0e"),o=s("2f62"),r=s("ac20");a["default"].use(o["a"]),t["a"]=new o["a"].Store({state:{users:[],user:{},usersArePublish:[]},getters:{getUsers:e=>e.users,fetchUser:e=>e.user,fetchUsersArePublish:e=>e.usersArePublish},mutations:{setUsers(e,t){e.users=t},fetchUser(e,t){e.user=t},fetchUsersArePublish(e,t){e.usersArePublish=t}},actions:{async fetchUsers({commit:e},t){try{let t=await r["c"].get("/api/users");e("setUsers",t.data)}catch(s){console.log(s)}},async fetchUserByID({commit:e},t){try{let s=await r["c"].get("/api/users/"+t);e("fetchUser",s.data)}catch(s){console.log(s)}},async fetchUsersArePublish({commit:e}){try{let t=await r["c"].get("/api/get-user-is-publish");e("fetchUsersArePublish",t.data)}catch(t){console.log(t)}}}})},f652:function(e,t,s){"use strict";s("bc3a");var a=s("2b0e"),o=s("2f62"),r=s("ac20");a["default"].use(o["a"]),t["a"]=new o["a"].Store({state:{data:[],postsReview:[],reviewsByUserID:[],reviews_after_remove:[]},getters:{reviews:e=>e.data,getReviews:e=>e.postsReview,getReviewsByUserID:e=>e.reviewsByUserID},mutations:{setData(e,t){e.data=t},setReview(e,t){e.data=t},setReviewByUserID(e,t){e.reviewsByUserID=t},removeReview(e,t){e.reviews_after_remove=e.reviews_after_remove.map(e=>e.id!=t.id)}},actions:{async fetchData({commit:e}){let t=await r["c"].get("/api/reviews");e("setData",t)},async addReview({commit:e},t){let s={comment:t.comment,rating:t.rating,id:t.id},a=await r["c"].post("/api/reviews",s);return console.log("-----------",a),e("setReview",a.data),a},async paginate({commit:e},t){let s=r["c"].get(t);e("fetch",{res:s})},async getReviewByUserID({commit:e},t){let s=await r["c"].get("/api/reviews/get-review-by-user-id/"+t);e("setReviewByUserID",s.data)},async removeReview({commit:e},t){let s=await r["c"].delete("/api/reviews/"+t);e("removeReview",s.data)}},modules:{}})}}]);
//# sourceMappingURL=chunk-39c94428.1dc542d1.js.map